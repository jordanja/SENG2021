<!DOCTYPE html>
<html lang="en">

<head>
    {{> header }}
    <link rel="stylesheet" href="/css/unslider.css" />
    <link rel="stylesheet" href="/css/unslider-dots.css" />
    <!-- some underscore script from the net
    <script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js">
    </script>-->

    <style>
    <!-- more dirty css -->
        #floating-panel {
            position: absolute;
            top: 10px;
            left: 25%;
            z-index: 5;
            background-color: #fff;
            padding: 5px;
            border: 1px solid #999;
            text-align: center;
            font-family: 'Roboto','sans-serif';
            line-height: 30px;
            padding-left: 10px;
        }
    </style>
</head>

<body>
    {{> navbar }}

    <div id="fb-root"></div>
    <script>
        (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.8";
        fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>

    <div class="jumbotron" id="info-main">
        <div id="info-bg" style="background-image: url('{{ header_image }}');"></div>
    </div>
    <!-- weather table for 5 days(average weather and temperature) -->
    <table class="table-condensed">
        <thead>
            <tr>
                <th></th>
                {{#place_5day_weather}}
                <th>{{ time }}</th>
                {{/place_5day_weather}}
            </tr>
        </thead>
        <tbody>
            <tr>
                <th scope="row">Weather:</th>
                {{#place_5day_weather}}
                <td><img id="weatherIcon" src="http://openweathermap.org/img/w/{{ icon }}.png"></td>
                {{/place_5day_weather}}
            </tr>
        </tbody>
        <tbody>
            <tr>
                <th scope="row">Temperature:</th>
                {{#place_5day_weather}}
                <td>{{ temp }}°C</td>
                {{/place_5day_weather}}
            </tr>
        </tbody>
    </table>

    <div class="container" id="campsite-body">
        <div>
            <span><h1 id="info-header">{{ place.name }}</h1></span>
            <!--share buttons for facebook and twitter-->
            <div id="pageURL" class="fb-share-button" data-href="#" data-layout="button" data-size="large" data-mobile-iframe="true">
            <a id="fbshareURL" class="fb-xfbml-parse-ignore" target="_blank" href="#">Share</a></div>
            <!-- probably need to fix the size of the buttons-->
            <div><a href="https://twitter.com/share" class="twitter-share-button" data-size="large"
                data-show-count="false">Tweet</a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script></div>
            <div id="ratingText">
                <b>Rating: </b>
            <span class="rating stars-container stars-{{ place.rating }}">★★★★★</span>
            </div>
        </div>
        <b id="facility">Facilities: </b>
        <div class="campicons"> 
            <img src="/img/Toilet.png">      
            <img src="/img/Disable facility.png">     
            <img src="/img/Shower.png">
            <img src="/img/Drinking water.png">
            <img src="/img/Campfire.png">        
        </div>
        
        <br>
        <br>

        <br />
        <div class="slider">
            <ul>{{#place_images}}<li><img src="{{.}}" class="slide-img"></li>{{/place_images}}</ul>
        </div>

        <h3>Address: {{ place.address }}</h3>

        <h3>Phone Number: {{ place.phone }}</h3>
        <h3>Website: <a href="{{ place.website }}">{{ place.website }}</a></h3>
        <h3><a href= "https://maps.google.com?saddr=Current+Location&daddr={{place_lat}},{{place_lng}}">Direction</a></h3>

        <!-- give a 5 day weather forecast of the location // use for debugging purposes-->
        <!--
        <p>
            <h2>Today's weather:</h2>
            <br>Weather condition: {{ place_condition }}<img id="weatherIcon" src="http://openweathermap.org/img/w/{{place_icon}}.png"></br>
            <br>Current temperature: {{ place_temp }}°C</br>
            <br>Current wind speed: {{ place_wind_speed }} m/s</br>
            <br>Current time: {{ place_time }}</br>
        </p>-->
        <br>


        <div class="col-lg-9">
            <div id="floating-panel">
                <input onclick="showShops();" type=button value="Shops">
                <input onclick="showPetrolStation();" type=button value="Service Station">
                <input onclick="showMeds();" type=button value="Medical Facilities">
            </div>
            <div id="map"></div>
            <br><br>
            <button type="button" class="btn btn-primary" onclick="goBack()">Go Back</button>
            <script> function goBack() { window.history.back();}</script>
        </div>
    </div>


    <script src="/js/campsites.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD9KC8l4lg-FlrO37Pl-Cu-02MK8RMpOas&callback=initMap&libraries=places"
    async defer></script>

    <script>
        //give the page urls:
        document.getElementById('pageURL').href = document.URL;
        document.getElementById('fbshareURL').href = 'https://www.facebook.com/sharer/sharer.php?u='
        + document.URL + '%2F&amp;src=sdkpreparse';
    </script>
    {{> bottomJs }}
    <script src="/js/unslider.js"></script>
    <script>$(function() {
    $('.slider').unslider({
        infinite: true
    });
    })</script>

</body>
</html>
